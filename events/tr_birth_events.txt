namespace = tr_birth

tr_birth.01 = {
	hidden = yes

	trigger = {
		birth_will_happen_as_usual_trigger = yes
	}

	immediate = {
		if = {
			limit = {
				AND = {
					scope:father.title.tier = empire
					NOR = {
						scope:father.culture = { has_cultural_pillar = heritage_byzantine }
						scope:child = { has_trait = born_in_the_purple }
						scope:child = { has_trait = emperor_child }
					}
				}
			}
			scope:child = { add_trait = emperor_child }
		}
	}
}

tr_birth.02 = {
	hidden = yes

	trigger = {
		birth_will_happen_as_usual_trigger = yes
	}

	weight_multiplier = {
		base = 0
		modifier = {
			scope:child.culture = { has_cultural_pillar = heritage_fantasy }
			add = 1
		}
	}

	immediate = {
		random_list = {
			# Serpent
			5 = {
			    scope:child = { add_trait = birthsign_serpent }
			}
			# Other
			95 = {
				trigger = {
					if = {
						limit = {
							current_month = 1
						}
						scope:child = { add_trait = birthsign_ritual }
					}
					else_if = {
						limit = {
							current_month = 2
						}
						scope:child = { add_trait = birthsign_lover }
					}
					else_if = {
						limit = {
							current_month = 3
						}
						scope:child = { add_trait = birthsign_lord }
					}
					else_if = {
						limit = {
							current_month = 4
						}
						scope:child = { add_trait = birthsign_mage }
					}
					else_if = {
						limit = {
							current_month = 5
						}
						scope:child = { add_trait = birthsign_shadow }
					}
					else_if = {
						limit = {
							current_month = 6
						}
						scope:child = { add_trait = birthsign_steed }
					}
					else_if = {
						limit = {
							current_month = 7
						}
						scope:child = { add_trait = birthsign_apprentice }
					}
					else_if = {
						limit = {
							current_month = 8
						}
						scope:child = { add_trait = birthsign_warrior }
					}
					else_if = {
						limit = {
							current_month = 9
						}
						scope:child = { add_trait = birthsign_lady }
					}
					else_if = {
						limit = {
							current_month = 10
						}
						scope:child = { add_trait = birthsign_tower }
					}
					else_if = {
						limit = {
							current_month = 11
						}
						scope:child = { add_trait = birthsign_atronach }
					}
					else = {
						limit = {
							current_month = 12
						}
						scope:child = { add_trait = birthsign_thief }
					}
			    }
			}
		}
	}
}