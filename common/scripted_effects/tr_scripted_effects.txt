calculate_authority_cooldown_break_effect = {
	if = {
		limit = {
			has_variable = crown_authority_cooldown
			realm_law_use_crown_authority = yes
		}
		# Set it up if it doesn't exist.
		if = {
			limit = {
				NOT = {
					has_variable = authority_cooldown_break_tally
				}
			}
			set_variable = {
				name = authority_cooldown_break_tally
				value = authority_cooldown_breaker_value
			}
			# And increment it once, since they've just taken the first use and we give no freebies.
			change_variable = {
				name = authority_cooldown_break_tally
				add = authority_cooldown_breaker_value
			}
		}
		# Otherwise, increment it.
		else_if = {
			limit = {
				has_variable = authority_cooldown_break_tally
			}
			change_variable = {
				name = authority_cooldown_break_tally
				add = authority_cooldown_breaker_value
			}
		}
	}
	else_if = {
		limit = {
			has_variable = tribal_authority_cooldown
			realm_law_use_crown_authority = no
		}
		# Set it up if it doesn't exist.
		if = {
			limit = {
				NOT = {
					has_variable = authority_cooldown_break_tally
				}
			}
			set_variable = {
				name = authority_cooldown_break_tally
				value = authority_cooldown_breaker_value
			}
			# And increment it once, since they've just taken the first use and we give no freebies.
			change_variable = {
				name = authority_cooldown_break_tally
				add = authority_cooldown_breaker_value
			}
		}
		# Otherwise, increment it.
		else_if = {
			limit = {
				has_variable = authority_cooldown_break_tally
			}
			change_variable = {
				name = authority_cooldown_break_tally
				add = authority_cooldown_breaker_value
			}
		}
	}
}

set_republic_heir = {
	if = {
		limit = { 
		    OR = {
			    has_government = republic_government
			    has_realm_law = city_succession_law
		    }
		}
		scope:ruler = { set_designated_heir = scope:candidate }
	}
}

feudal_government_modifier = {
	limit = { 
		if = {
			has_government = feudal_government
		}
	}
	scope:ruler = {
		character_modifier = {
			army_maintenance_mult = -0.3
			domain_tax_mult = 0.5
		}
	}
}

tr_replace_tribal_authority = {
	if = {
		limit = { has_realm_law = tribal_authority_0 }
		remove_realm_law = tribal_authority_0
		add_realm_law_skip_effects = crown_authority_0
	}
	if = {
		limit = { has_realm_law = tribal_authority_1 }
		remove_realm_law = tribal_authority_1
		add_realm_law_skip_effects = crown_authority_0
	}
	if = {
		limit = { has_realm_law = tribal_authority_2 }
		remove_realm_law = tribal_authority_2
		add_realm_law_skip_effects = crown_authority_1
	}
	if = {
		limit = { has_realm_law = tribal_authority_3 }
		remove_realm_law = tribal_authority_3
		add_realm_law_skip_effects = crown_authority_1
	}
}

tr_replace_crown_authority = {
	if = {
		limit = { has_realm_law = crown_authority_0 }
		remove_realm_law = crown_authority_0
		add_realm_law_skip_effects = tribal_authority_0
	}
	if = {
		limit = { has_realm_law = crown_authority_1 }
		remove_realm_law = crown_authority_1
		add_realm_law_skip_effects = tribal_authority_1
	}
	if = {
		limit = { has_realm_law = crown_authority_2 }
		remove_realm_law = crown_authority_2
		add_realm_law_skip_effects = tribal_authority_2
	}
	if = {
		limit = { has_realm_law = crown_authority_3 }
		remove_realm_law = crown_authority_3
		add_realm_law_skip_effects = tribal_authority_3
	}
}

tr_change_holdings_castle = {
	title_capital_county = {
		limit = {
			OR = {
				has_holding_type = tribal_holding
				has_holding_type = church_holding
				has_holding_type = city_holding
			}
			set_holding_type = castle_holding
		}
	}
}

tr_change_holdings_city = {
	title_capital_county = {
		limit = {
			OR = {
				has_holding_type = tribal_holding
				has_holding_type = church_holding
				has_holding_type = castle_holding
			}
			set_holding_type = city_holding
		}
	}
}

tr_change_holdings_church = {
	title_capital_county = {
		limit = {
			OR = {
				has_holding_type = tribal_holding
				has_holding_type = castle_holding
				has_holding_type = city_holding
			}
			set_holding_type = church_holding
		}
	}
}

tr_change_holdings_tribal = {
	title_capital_county = {
		limit = {
			OR = {
				has_holding_type = church_holding
				has_holding_type = temple_holding
				has_holding_type = city_holding
			}
			set_holding_type = tribal_holding
		}
	}
}